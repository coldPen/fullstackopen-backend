{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","search","setSearch","value","onChange","e","target","PersonForm","handleSubmit","newName","setNewName","newNumber","setNewNumber","onSubmit","type","Persons","persons","deletePerson","filter","person","name","toLowerCase","includes","map","key","id","number","onClick","Notification","message","status","className","baseUrl","axios","get","then","response","data","newObject","post","removed","delete","updated","put","App","useState","setPersons","setMessage","setStatus","useEffect","personService","preventDefault","duplicate","find","trim","window","confirm","setTimeout","catch","newPerson","concat","newPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.14c061fb.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ search, setSearch }) => (\n  <>\n    filter shown with{\" \"}\n    <input value={search} onChange={(e) => setSearch(e.target.value)} />\n  </>\n);\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  handleSubmit,\n  newName,\n  setNewName,\n  newNumber,\n  setNewNumber,\n}) => (\n  <form onSubmit={handleSubmit}>\n    <div>\n      name:{\" \"}\n      <input value={newName} onChange={(e) => setNewName(e.target.value)} />\n    </div>\n    <div>\n      number:{\" \"}\n      <input value={newNumber} onChange={(e) => setNewNumber(e.target.value)} />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n);\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ persons, search, deletePerson }) => (\n  <>\n    {persons\n      .filter((person) =>\n        person.name.toLowerCase().includes(search.toLowerCase())\n      )\n      .map((person) => (\n        <div key={person.id}>\n          {person.name} {person.number}{\" \"}\n          <button onClick={() => deletePerson(person)}>delete</button>\n        </div>\n      ))}\n  </>\n);\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message, status }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className={status}>{message}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\n\nconst baseUrl = `/api/persons`;\n\nconst getAll = () => axios.get(baseUrl).then((response) => response.data);\n\nconst create = (newObject) =>\n  axios.post(baseUrl, newObject).then((response) => response.data);\n\nconst remove = (removed) =>\n  axios.delete(`${baseUrl}/${removed.id}`).then(() => removed);\n\nconst update = (updated) =>\n  axios\n    .put(`${baseUrl}/${updated.id}`, updated)\n    .then((response) => response.data);\n\nexport default { getAll, create, remove, update };\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [status, setStatus] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((data) => {\n      setPersons(data);\n    });\n  }, []);\n\n  const handleDelete = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        .remove(person)\n        .then((removed) => {\n          const newPersons = persons.filter(\n            (person) => person.id !== removed.id\n          );\n          setPersons(newPersons);\n        })\n        .catch(() => {\n          setMessage(\n            `Information of ${person.name} has already been removed from server`\n          );\n          setStatus(\"error\");\n          setTimeout(() => {\n            setMessage(null);\n            setStatus(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const duplicate = persons.find(\n      (person) => person.name.toLowerCase() === newName.trim().toLowerCase()\n    );\n\n    if (duplicate) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        personService\n          .update({\n            id: duplicate.id,\n            name: duplicate.name,\n            number: newNumber,\n          })\n          .then((updated) => {\n            setPersons(\n              persons.map((person) =>\n                person.id === updated.id ? updated : person\n              )\n            );\n            setNewName(\"\");\n            setNewNumber(\"\");\n            setMessage(`Updated ${updated.name}`);\n            setTimeout(() => setMessage(null), 5000);\n          })\n          .catch(() => {\n            setMessage(\n              `Information of ${duplicate.name} has already been removed from server`\n            );\n            setStatus(\"error\");\n            setTimeout(() => {\n              setMessage(null);\n              setStatus(null);\n            }, 5000);\n          });\n      }\n    } else {\n      personService\n        .create({ name: newName.trim(), number: newNumber.trim() })\n        .then((newPerson) => {\n          setPersons(persons.concat(newPerson));\n          setNewName(\"\");\n          setNewNumber(\"\");\n\n          setMessage(`Added ${newPerson.name}`);\n          setStatus(\"success\");\n          setTimeout(() => {\n            setMessage(null);\n            setStatus(null);\n          }, 5000);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} status={status} />\n      <Filter search={search} setSearch={setSearch} />\n      <h3>Add a new</h3>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} search={search} deletePerson={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}